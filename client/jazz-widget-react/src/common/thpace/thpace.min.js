!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Thpace=t()}(this,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e}).apply(this,arguments)}function n(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}const s=Math.pow(2,-52),o=new Uint32Array(512);class l{static from(e,t=p,i=y){const a=e.length,r=new Float64Array(2*a);for(let n=0;n<a;n++){const a=e[n];r[2*n]=t(a),r[2*n+1]=i(a)}return new l(r)}constructor(e){const t=e.length>>1;if(t>0&&"number"!=typeof e[0])throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*t-5,0);this._triangles=new Uint32Array(3*i),this._halfedges=new Int32Array(3*i),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:i,_hullTri:a,_hullHash:r}=this,n=e.length>>1;let o=1/0,l=1/0,f=-1/0,d=-1/0;for(let t=0;t<n;t++){const i=e[2*t],a=e[2*t+1];i<o&&(o=i),a<l&&(l=a),i>f&&(f=i),a>d&&(d=a),this._ids[t]=t}const b=(o+f)/2,p=(l+d)/2;let y,m,v,w=1/0;for(let t=0;t<n;t++){const i=h(b,p,e[2*t],e[2*t+1]);i<w&&(y=t,w=i)}const k=e[2*y],_=e[2*y+1];w=1/0;for(let t=0;t<n;t++){if(t===y)continue;const i=h(k,_,e[2*t],e[2*t+1]);i<w&&i>0&&(m=t,w=i)}let x=e[2*m],A=e[2*m+1],T=1/0;for(let t=0;t<n;t++){if(t===y||t===m)continue;const i=u(k,_,x,A,e[2*t],e[2*t+1]);i<T&&(v=t,T=i)}let M=e[2*v],S=e[2*v+1];if(T===1/0){for(let t=0;t<n;t++)this._dists[t]=e[2*t]-e[0]||e[2*t+1]-e[1];g(this._ids,this._dists,0,n-1);const t=new Uint32Array(n);let i=0;for(let e=0,a=-1/0;e<n;e++){const r=this._ids[e];this._dists[r]>a&&(t[i++]=r,a=this._dists[r])}return this.hull=t.subarray(0,i),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(c(k,_,x,A,M,S)){const e=m,t=x,i=A;m=v,x=M,A=S,v=e,M=t,S=i}const z=function(e,t,i,a,r,n){const s=i-e,o=a-t,l=r-e,h=n-t,f=s*s+o*o,c=l*l+h*h,d=.5/(s*h-o*l);return{x:e+(h*f-o*c)*d,y:t+(s*c-l*f)*d}}(k,_,x,A,M,S);this._cx=z.x,this._cy=z.y;for(let t=0;t<n;t++)this._dists[t]=h(e[2*t],e[2*t+1],z.x,z.y);g(this._ids,this._dists,0,n-1),this._hullStart=y;let I=3;i[y]=t[v]=m,i[m]=t[y]=v,i[v]=t[m]=y,a[y]=0,a[m]=1,a[v]=2,r.fill(-1),r[this._hashKey(k,_)]=y,r[this._hashKey(x,A)]=m,r[this._hashKey(M,S)]=v,this.trianglesLen=0,this._addTriangle(y,m,v,-1,-1,-1);for(let n,o,l=0;l<this._ids.length;l++){const h=this._ids[l],f=e[2*h],d=e[2*h+1];if(l>0&&Math.abs(f-n)<=s&&Math.abs(d-o)<=s)continue;if(n=f,o=d,h===y||h===m||h===v)continue;let u=0;for(let e=0,t=this._hashKey(f,d);e<this._hashSize&&(u=r[(t+e)%this._hashSize],-1===u||u===i[u]);e++);u=t[u];let g,b=u;for(;g=i[b],!c(f,d,e[2*b],e[2*b+1],e[2*g],e[2*g+1]);)if(b=g,b===u){b=-1;break}if(-1===b)continue;let p=this._addTriangle(b,h,i[b],-1,-1,a[b]);a[h]=this._legalize(p+2),a[b]=p,I++;let w=i[b];for(;g=i[w],c(f,d,e[2*w],e[2*w+1],e[2*g],e[2*g+1]);)p=this._addTriangle(w,h,g,a[h],-1,a[w]),a[h]=this._legalize(p+2),i[w]=w,I--,w=g;if(b===u)for(;g=t[b],c(f,d,e[2*g],e[2*g+1],e[2*b],e[2*b+1]);)p=this._addTriangle(g,h,b,-1,a[b],a[g]),this._legalize(p+2),a[g]=p,i[b]=b,I--,b=g;this._hullStart=t[h]=b,i[b]=t[w]=h,i[h]=w,r[this._hashKey(f,d)]=h,r[this._hashKey(e[2*b],e[2*b+1])]=b}this.hull=new Uint32Array(I);for(let e=0,t=this._hullStart;e<I;e++)this.hull[e]=t,t=i[t];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(function(e,t){const i=e/(Math.abs(e)+Math.abs(t));return(t>0?3-i:1+i)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:i,coords:a}=this;let r=0,n=0;for(;;){const s=i[e],l=e-e%3;if(n=l+(e+2)%3,-1===s){if(0===r)break;e=o[--r];continue}const h=s-s%3,f=l+(e+1)%3,c=h+(s+2)%3,u=t[n],g=t[e],b=t[f],p=t[c];if(d(a[2*u],a[2*u+1],a[2*g],a[2*g+1],a[2*b],a[2*b+1],a[2*p],a[2*p+1])){t[e]=p,t[s]=u;const a=i[c];if(-1===a){let t=this._hullStart;do{if(this._hullTri[t]===c){this._hullTri[t]=e;break}t=this._hullPrev[t]}while(t!==this._hullStart)}this._link(e,a),this._link(s,i[n]),this._link(n,c);const l=h+(s+1)%3;r<o.length&&(o[r++]=l)}else{if(0===r)break;e=o[--r]}}return n}_link(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}_addTriangle(e,t,i,a,r,n){const s=this.trianglesLen;return this._triangles[s]=e,this._triangles[s+1]=t,this._triangles[s+2]=i,this._link(s,a),this._link(s+1,r),this._link(s+2,n),this.trianglesLen+=3,s}}function h(e,t,i,a){const r=e-i,n=t-a;return r*r+n*n}function f(e,t,i,a,r,n){const s=(a-t)*(r-e),o=(i-e)*(n-t);return Math.abs(s-o)>=33306690738754716e-32*Math.abs(s+o)?s-o:0}function c(e,t,i,a,r,n){return(f(r,n,e,t,i,a)||f(e,t,i,a,r,n)||f(i,a,r,n,e,t))<0}function d(e,t,i,a,r,n,s,o){const l=e-s,h=t-o,f=i-s,c=a-o,d=r-s,u=n-o,g=f*f+c*c,b=d*d+u*u;return l*(c*b-g*u)-h*(f*b-g*d)+(l*l+h*h)*(f*u-c*d)<0}function u(e,t,i,a,r,n){const s=i-e,o=a-t,l=r-e,h=n-t,f=s*s+o*o,c=l*l+h*h,d=.5/(s*h-o*l),u=(h*f-o*c)*d,g=(s*c-l*f)*d;return u*u+g*g}function g(e,t,i,a){if(a-i<=20)for(let r=i+1;r<=a;r++){const a=e[r],n=t[a];let s=r-1;for(;s>=i&&t[e[s]]>n;)e[s+1]=e[s--];e[s+1]=a}else{let r=i+1,n=a;b(e,i+a>>1,r),t[e[i]]>t[e[a]]&&b(e,i,a),t[e[r]]>t[e[a]]&&b(e,r,a),t[e[i]]>t[e[r]]&&b(e,i,r);const s=e[r],o=t[s];for(;;){do{r++}while(t[e[r]]<o);do{n--}while(t[e[n]]>o);if(n<r)break;b(e,r,n)}e[i+1]=e[n],e[n]=s,a-r+1>=n-i?(g(e,t,r,a),g(e,t,i,n-1)):(g(e,t,i,n-1),g(e,t,r,a))}}function b(e,t,i){const a=e[t];e[t]=e[i],e[i]=a}function p(e){return e[0]}function y(e){return e[1]}var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},w=Object.prototype.toString,k=function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},_=function(e){var t,i,a=[],r=1;if("string"==typeof e)if(v[e])a=v[e].slice(),i="rgb";else if("transparent"===e)r=0,i="rgb",a=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var n=(l=e.slice(1)).length;r=1,n<=4?(a=[parseInt(l[0]+l[0],16),parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16)],4===n&&(r=parseInt(l[3]+l[3],16)/255)):(a=[parseInt(l[0]+l[1],16),parseInt(l[2]+l[3],16),parseInt(l[4]+l[5],16)],8===n&&(r=parseInt(l[6]+l[7],16)/255)),a[0]||(a[0]=0),a[1]||(a[1]=0),a[2]||(a[2]=0),i="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var s=t[1],o="rgb"===s,l=s.replace(/a$/,"");i=l;n="cmyk"===l?4:"gray"===l?1:3;a=t[2].trim().split(/\s*,\s*/).map((function(e,t){if(/%$/.test(e))return t===n?parseFloat(e)/100:"rgb"===l?255*parseFloat(e)/100:parseFloat(e);if("h"===l[t]){if(/deg$/.test(e))return parseFloat(e);if(void 0!==x[e])return x[e]}return parseFloat(e)})),s===l&&a.push(1),r=o||void 0===a[n]?1:a[n],a=a.slice(0,n)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(a=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),i=e.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(e))if(f=e,"[object Object]"!==w.call(f)||null!==(c=Object.getPrototypeOf(f))&&c!==Object.getPrototypeOf({}))(Array.isArray(e)||m.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(a=[e[0],e[1],e[2]],i="rgb",r=4===e.length?e[3]:1);else{var h=k(e.r,e.red,e.R,null);null!==h?(i="rgb",a=[h,k(e.g,e.green,e.G),k(e.b,e.blue,e.B)]):(i="hsl",a=[k(e.h,e.hue,e.H),k(e.s,e.saturation,e.S),k(e.l,e.lightness,e.L,e.b,e.brightness)]),r=k(e.a,e.alpha,e.opacity,1),null!=e.opacity&&(r/=100)}else i="rgb",a=[e>>>16,(65280&e)>>>8,255&e];var f,c;return{space:i,values:a,alpha:r}},x={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var A=function(e){var t,i,a,r,n,s=e[0]/360,o=e[1]/100,l=e[2]/100;if(0===o)return[n=255*l,n,n];t=2*l-(i=l<.5?l*(1+o):l+o-l*o),r=[0,0,0];for(var h=0;h<3;h++)(a=s+1/3*-(h-1))<0?a++:a>1&&a--,n=6*a<1?t+6*(i-t)*a:2*a<1?i:3*a<2?t+(i-t)*(2/3-a)*6:t,r[h]=255*n;return r};var T=function(e,t,i){return e*(1-i)+t*i},M=function(e,t,i){return t<i?e<t?t:e>i?i:e:e<i?i:e>t?t:e};var S=function(e){return e=e.map((function(e){if("rgb"!=(e=_(e)).space){if("hsl"!=e.space)throw"c.spacespace is not supported.";e.values=A(e.values)}return e.values.push(e.alpha),e.values})),function(t,i){i=i||T,t=M(t,0,1);var a=(e.length-1)*t,r=Math.floor(a),n=Math.ceil(a);t=a-r;var s=e[r],o=e[n],l=s.map((function(e,a){return e=i(e,o[a],t),a<3&&(e=Math.round(e)),e}));return 1===l[3]?"rgb("+l.slice(0,3)+")":"rgba("+l+")"}};var z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},I=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/,q=/rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}|.*)\)/,j=/hsla\((\d{1,3}),\s*(\d{1,3})\%,\s*(\d{1,3})\%,\s*(\d{1,3}|.*)\)/,O=/hsl\((\d{1,3}),\s*(\d{1,3})\%,\s*(\d{1,3})\%\)/,E=/^#?([a-fA-F\d]{2})([a-fA-F\d]{2})([a-fA-F\d]{2})$/;function F(e,t,i){if(i/=100,0===(t/=100))return[i,i,i];var a=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e};e/=360;var r=i<.5?i*(1+t):i+t-i*t,n=2*i-r;return[Math.round(255*a(n,r,e+1/3)),Math.round(255*a(n,r,e)),Math.round(255*a(n,r,e-1/3))]}function P(e){var t=E.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(console.warn("Invalid hex used: ".concat(e)),[0,0,0])}var U={triangleSize:130,bleed:120,noise:60,colors:["rgba(11,135,147,1)","rgba(54,0,51,1)"],pointVariationX:20,pointVariationY:35,pointAnimationSpeed:7500,image:void 0,imageOpacity:.4},C=function(){function t(i,r){e(this,t),a(this,"canvas",void 0),a(this,"ctx",void 0),a(this,"settings",void 0),a(this,"width",void 0),a(this,"height",void 0),a(this,"triangles",void 0),a(this,"particles",void 0),a(this,"coordinateTable",void 0),a(this,"baseCoordinateTable",void 0),a(this,"delta",void 0),a(this,"lastUpdate",void 0),this.canvas=i,this.settings=r,r.color1&&r.color2&&"string"==typeof r.color1&&"string"==typeof r.color2?this.settings.colors=[R(r.color1),R(r.color2)]:this.settings.colors&&(this.settings.colors=this.settings.colors.map((function(e){return R(e)}))),this.ctx=i.getContext("2d"),this.width=0,this.height=0,this.delta=performance.now(),this.lastUpdate=performance.now(),this.triangles=[],this.particles=[],this.coordinateTable={},this.baseCoordinateTable={},window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.animate()}return i(t,null,[{key:"create",value:function(e,i){if(e)return new t(e,r({},U,i));console.warn("Need a valid canvas element!")}}]),i(t,[{key:"resize",value:function(){var e=this.canvas.parentElement;e&&(this.canvas.width=e.clientWidth,this.canvas.height=e.clientHeight),this.width===this.canvas.width&&this.height===this.canvas.height||(this.width=this.canvas.width,this.height=this.canvas.height,this.generateTriangles(),this.generateParticles())}},{key:"remove",value:function(){window.removeEventListener("resize",this.resize.bind(this))}},{key:"generateTriangles",value:function(){var e=this,t=[],i={};t.push([0,0]),t.push([0,this.height]),t.push([this.width,0]),t.push([this.width,this.height]);for(var a=this.settings.bleed,r=this.settings.triangleSize,n=this.settings.noise,s=this.settings.colors,o=0-a;o<this.width+a;o+=r)for(var h=0-a;h<this.height+a;h+=r){var f=o+B(0,n),c=h+B(0,n);t.push([f,c])}for(var d=l.from(t).triangles,u=[],g=0;g<d.length;g+=3){var b=[t[d[g]],t[d[g+1]],t[d[g+2]]],p=[];p.push({x:b[0][0],y:b[0][1]}),p.push({x:b[1][0],y:b[1][1]}),p.push({x:b[2][0],y:b[2][1]}),b.push(N($(p),this.width,this.height,s)),u.push(b)}var y={};u.forEach((function(t){t.forEach((function(t){var a=t[0],r=t[1];i[a]||(i[a]={});var n=a/e.width;i[a][r]=0,y[a]||(y[a]={}),y[a][r]=2*n*Math.PI}))})),this.triangles=u,this.coordinateTable=i,this.baseCoordinateTable=y}},{key:"generateParticles",value:function(){for(var e=[],t=0;t<250;t++){var i={ctx:this.ctx,width:this.width,height:this.height};e.push(new L(i))}this.particles=e}},{key:"animate",value:function(){var e=this,t=this.ctx;if(t.clearRect(0,0,this.width,this.height),this.triangles.forEach((function(i){t.beginPath();var a=[];a.push({x:i[0][0],y:i[0][1]}),a.push({x:i[1][0],y:i[1][1]}),a.push({x:i[2][0],y:i[2][1]});var r=i[3],n="rgb(".concat(r[0],", ").concat(r[1],", ").concat(r[2],")");t.fillStyle=n,t.strokeStyle=n,t.globalAlpha=r[3];[0,1,2,0].forEach((function(i,r){if(e.coordinateTable[a[i].x]&&null!=e.coordinateTable[a[i].x][a[i].y]){var n={x:a[i].x,y:a[i].y},s=e.coordinateTable[a[i].x][a[i].y];0==r?t.moveTo(n.x+s.x,n.y+s.y):t.lineTo(n.x+s.x,n.y+s.y)}})),t.fill(),t.stroke(),t.globalAlpha=1,t.globalCompositeOperation="source-over"})),this.particles.forEach((function(e){e.update()})),this.particles.forEach((function(e){e.draw()})),this.settings.image){var i=this.settings.imageOpacity||0,a=t.createPattern(this.settings.image,"repeat");a&&(t.globalAlpha=i,t.fillStyle=a,t.fillRect(0,0,this.width,this.height),t.globalAlpha=1)}this.animateCoordinateTable(),this.delta=performance.now()-this.lastUpdate,this.lastUpdate=performance.now(),requestAnimationFrame(this.animate.bind(this))}},{key:"animateCoordinateTable",value:function(){var e=this,t=this.settings.pointAnimationSpeed||0,i=this.settings.pointVariationX||0,a=this.settings.pointVariationY||0;Object.keys(this.coordinateTable).forEach((function(r){Object.keys(e.coordinateTable[r]).forEach((function(n){e.baseCoordinateTable[r][n]+=e.delta/(t/1.5)*4;var s=Math.cos(e.baseCoordinateTable[r][n])*i,o=Math.sin(e.baseCoordinateTable[r][n])*a;e.coordinateTable[r][n]={x:s,y:o}}))}))}}]),t}(),L=function(){function t(i){e(this,t),a(this,"ctx",void 0),a(this,"x",void 0),a(this,"y",void 0),a(this,"ox",void 0),a(this,"oy",void 0),a(this,"interval",void 0),a(this,"limit",void 0),a(this,"opacity",void 0),a(this,"r",void 0),this.ctx=i.ctx,this.x=B(0,i.width),this.y=B(0,i.height),this.ox=this.x,this.oy=this.y,this.interval=B(1e3,5e3),this.limit=B(5,15),this.opacity=H(.1,.7),this.r=H(1,2)}return i(t,[{key:"update",value:function(){this.x=this.ox+Math.cos(performance.now()/this.interval)*this.limit,this.y=this.oy+Math.sin(performance.now()/this.interval)*this.limit/2}},{key:"draw",value:function(){this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.r,0,2*Math.PI),this.ctx.fillStyle="rgba(255,255,255, "+this.opacity+")",this.ctx.fill()}}]),t}(),K=/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/,V=/rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}|.*)\)/;function N(e,t,i,a){var r=e.x,n=0;(n=(e.y/i+(n=r/t))/2)>1?n=1:n<0&&(n=0);var s,o=S(a)(n);return o.match(K)?[(s=o.match(K).slice(1,4).map((function(e){return parseInt(e)})))[0],s[1],s[2],1]:o.match(V)?[(s=o.match(V).slice(1,5).map((function(e){return parseFloat(e)})))[0],s[1],s[2],s[3]]:[0,0,0,0]}function $(e){var t=0,i=0;return e.forEach((function(e){t+=e.x,i+=e.y})),{x:t/e.length,y:i/e.length}}function B(e,t){return Math.floor(Math.random()*(t-e+1))+e}function H(e,t){return Math.random()*(t-e)+e}function R(e){return e?"rgba(".concat(function(e){var t;if(e.match(I))return[(t=e.match(I).slice(1,4).map((function(e){return parseInt(e)})))[0],t[1],t[2],1];if(e.match(q))return[(t=e.match(q).slice(1,5).map((function(e){return parseFloat(e)})))[0],t[1],t[2],t[3]];if(e.match(O))return t=e.match(O).slice(1,4).map((function(e){return parseInt(e)})),[].concat(n(F(t[0],t[1],t[2])),[1]);if(e.match(j))return t=e.match(j).slice(1,5).map((function(e){return parseFloat(e)})),[].concat(n(F(t[0],t[1],t[2])),[t[3]]);if(e.match(E))return[].concat(n(P(e)),[1]);if("string"==typeof e){var i=z[e];return void 0!==i?[].concat(n(P(i)),[1]):[0,0,0,0]}return console.warn('I have no idea what "'.concat(e,' is."')),[0,0,0,0]}(e).join(","),")"):(console.warn("Incorrect color: ".concat(e)),"rgba(0,0,0,0)")}return C}));
